# IronLang

IronLang — это первый аппаратно-ориентированный язык высокого уровня, который может быть полезен для:
- работы с нейронными сетями;
- программирования микроконтроллеров;
- разработки операционных систем.

Сейчас язык находится в активной разработке.

## Основная фишка
Главная особенность IronLang — это абстракции для работы с аппаратным обеспечением. Язык предоставляет удобные конструкции для взаимодействия с различными аппаратными компонентами, такими как GPU, CPU, сенсоры и другие устройства.

## Основные возможности

### Обработчики
Обработчики позволяют использовать различные аппаратные части системы для решения специфических задач. Например:

```plaintext
@gpu.simd$matrix(i: matrix_a) {
    i += 1;
    assign i to #i;
}
```

В этом примере переменная `matrix_a` передается в GPU-обработчик с методом `simd` и типом `matrix`. Каждый элемент матрицы обрабатывается отдельным мини-ядром графического процессора: к каждому элементу прибавляется 1, и результат присваивается соответствующему элементу в памяти. В итоге все элементы матрицы `matrix_a` увеличиваются на 1.

### Аппаратные прерывания и события
IronLang позволяет обрабатывать прерывания и события, запрашивая данные от устройств. Например:

```plaintext
@interrupt.keyboard_handler -> keyid {
    if (keyid == 'a') {
        print("Клавиша 'a' нажата!");
    }
}
```

Здесь обработчик прерывания от клавиатуры проверяет, была ли нажата клавиша `a`, и выводит сообщение в случае успеха.

### Аппаратные ловушки (traps)
Ловушки предназначены для обработки критических ситуаций, таких как ошибки ввода-вывода или сбои в работе устройств. Например:

```plaintext
@trap(IOError) {
    print("Ошибка ввода-вывода!");
}
```

В этом примере при возникновении ошибки ввода-вывода выводится соответствующее сообщение.

### Аппаратные логи событий
IronLang предоставляет встроенные средства для логирования событий, что упрощает отладку и мониторинг работы системы. Например:

```plaintext
@log(event) {
    file.write(event);
}
```

Здесь событие записывается в файл для дальнейшего анализа.

---

### Аппаратные блоки (Hardware Blocks)
Аппаратные блоки позволяют группировать данные и операции, связанные с конкретным аппаратным компонентом. Например:

```plaintext
block PointProcessor {
    float x;
    float y;

    @gpu.process {
        x += 1.0;
        y += 1.0;
    }
}
```

Здесь блок `PointProcessor` содержит данные (`x` и `y`) и операцию, которая выполняется на GPU.

### Универсальные контейнеры
Контейнеры позволяют группировать данные без привязки к аппаратуре. Например:

```plaintext
container Point {
    float x;
    float y;
}
```

Контейнеры могут использоваться для хранения и передачи данных между блоками.

### Процедуры (Procedures)
Процедуры — это аналог функций, но без привязки к объектам. Они позволяют повторно использовать код. Например:

```plaintext
procedure add_one(float x) -> float {
    return x + 1.0;
}
```

Процедуры могут быть вызваны в любом месте программы.

### Аппаратные события (Hardware Events)
События позволяют реагировать на изменения в аппаратуре. Например:

```plaintext
@event.sensor_data_received(float temperature, float pressure) {
    print("Температура: ", temperature);
    print("Давление: ", pressure);
}
```

События могут быть связаны с аппаратными прерываниями или изменениями данных.

### Аппаратные ловушки (Hardware Traps)
Ловушки позволяют обрабатывать критические ситуации, такие как ошибки ввода-вывода. Например:

```plaintext
@trap(IOError, int code, string message) {
    print("Ошибка ", code, ": ", message);
}
```

Ловушки могут быть использованы для обработки исключительных ситуаций.

---

## Пример использования

```plaintext
block PointProcessor {
    float x;
    float y;

    @gpu.process {
        x += 1.0;
        y += 1.0;
    }
}

procedure print_point(float x, float y) {
    print("x: ", x, ", y: ", y);
}

@main {
    PointProcessor p;
    p.x = 1.0;
    p.y = 2.0;

    @gpu.process(p);
    print_point(p.x, p.y);  // x: 2.0, y: 3.0
}
```

---

## Текущий статус
IronLang находится в стадии активной разработки. Мы работаем над добавлением новых функций и улучшением существующих возможностей.

---

## Как использовать
Чтобы начать использовать IronLang, следуйте инструкциям по установке и настройке (скоро будет доступно).

---

## Лицензия
IronLang распространяется под лицензией [MIT](LICENSE).
